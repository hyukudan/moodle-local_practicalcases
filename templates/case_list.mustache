{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_casospracticos/case_list

    Template for displaying a list of practical cases.

    Context variables required for this template:
    * cases - Array of case objects
    * categoryname - Current category name
    * canedit - Boolean for edit capability
    * candelete - Boolean for delete capability

    Example context (json):
    {
        "cases": [
            {
                "id": 1,
                "name": "Caso pr√°ctico 1",
                "status": "published",
                "statusclass": "bg-success",
                "statuslabel": "Publicado",
                "questioncount": 5,
                "timemodified": "11/01/2026 21:00",
                "viewurl": "/local/casospracticos/case_view.php?id=1",
                "editurl": "/local/casospracticos/case_edit.php?id=1"
            }
        ],
        "categoryname": "Derecho Administrativo",
        "canedit": true,
        "candelete": true
    }
}}
<div class="local-casospracticos-case-list">
    {{#categoryname}}
    <h4 class="mb-3">{{categoryname}}</h4>
    {{/categoryname}}

    {{^cases}}
    <div class="alert alert-info">
        {{#str}}nocases, local_casospracticos{{/str}}
    </div>
    {{/cases}}

    {{#cases}}
    <div class="case-list-table">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>{{#str}}name{{/str}}</th>
                    <th>{{#str}}status, local_casospracticos{{/str}}</th>
                    <th>{{#str}}questions, local_casospracticos{{/str}}</th>
                    <th>{{#str}}modified, local_casospracticos{{/str}}</th>
                    <th>{{#str}}actions, local_casospracticos{{/str}}</th>
                </tr>
            </thead>
            <tbody>
                {{#cases}}
                <tr data-caseid="{{id}}">
                    <td>
                        <a href="{{viewurl}}" class="font-weight-bold">{{name}}</a>
                    </td>
                    <td>
                        <span class="badge {{statusclass}}">{{statuslabel}}</span>
                    </td>
                    <td>
                        <span class="badge bg-secondary">{{questioncount}}</span>
                    </td>
                    <td class="text-muted small">
                        {{timemodified}}
                    </td>
                    <td class="case-actions">
                        <a href="{{viewurl}}" class="btn btn-sm btn-outline-primary" title="{{#str}}view{{/str}}">
                            {{#pix}}i/preview, core{{/pix}}
                        </a>
                        {{#canedit}}
                        <a href="{{editurl}}" class="btn btn-sm btn-outline-secondary" title="{{#str}}edit{{/str}}">
                            {{#pix}}t/edit, core{{/pix}}
                        </a>
                        {{/canedit}}
                        {{#candelete}}
                        <a href="{{deleteurl}}" class="btn btn-sm btn-outline-danger" title="{{#str}}delete{{/str}}">
                            {{#pix}}t/delete, core{{/pix}}
                        </a>
                        {{/candelete}}
                    </td>
                </tr>
                {{/cases}}
            </tbody>
        </table>
    </div>
    {{/cases}}
</div>
